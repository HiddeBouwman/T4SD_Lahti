<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SingFin - Opi suomea musiikin kautta / Learn Finnish through Music</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/player.css">
</head>
<body>
    <div class="language-toggle">
        <div class="lang-selector">
            <button id="langSelectorBtn" class="lang-icon-btn" aria-haspopup="listbox" aria-expanded="false" title="Change language">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M2,16c0.1,0,8-5,9-7c0.6-1.3,1-5,1-5h3H1h7V1"/>
                    <line x1="4" y1="8" x2="12" y2="16"/>
                    <polygon points="15,19 21,19 23,23 18,11 13,23 "/>
                </svg>
            </button>

            <select id="langSelector" class="native-select">
                <option value="fi">Suomi (FI)</option>
                <option value="en">English (EN)</option>
                <option value="es">Espa√±ol (ES)</option>
                <option value="fr">Fran√ßais (FR)</option>
                <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (AR)</option>
                <option value="nl">Nederlands (NL)</option>
            </select>

            <ul id="langDropdown" class="lang-dropdown" role="listbox" aria-label="Language selector"></ul>
        </div>
    </div>

    <!-- Decorative moving waves (layered SVG) -->
    <div class="waves waves--player" aria-hidden="true">
        <svg class="waves-svg" viewBox="0 0 1440 800" preserveAspectRatio="none" aria-hidden="true">
            <path class="wave wave--1" d="M-200,760 C160,700 280,580 520,540 C760,500 980,480 1200,520 C1310,540 1380,580 1640,600 L1640,800 L-200,800 Z"/>
            <path class="wave wave--2" d="M-200,650 C180,590 360,455 600,395 C840,335 1040,315 1260,355 C1360,377 1400,415 1640,435 L1640,800 L-200,800 Z"/>
            <path class="wave wave--3" d="M-200,565 C120,485 260,305 520,265 C780,225 980,225 1200,265 C1320,285 1380,315 1640,335 L1640,800 L-200,800 Z"/>
            <path class="wave wave--4" d="M-200,470 C200,430 380,315 600,280 C820,240 1060,220 1280,250 C1360,266 1400,290 1640,300 L1640,800 L-200,800 Z"/>
        </svg>
    </div>

    <div class="container player-container">
        <header>
            <h1 style="font-weight: 900; font-size: xx-large;" id="songTitle"></h1>
            <p style="font-weight: 700; font-size: large;"  id="artistName"></p>
        </header>

        <main>
            <section class="player-section">
                <div class="player-cover" aria-hidden="false">
                    <img id="playerCoverImg" class="player-cover__img" alt="" width="220" height="220" decoding="async" fetchpriority="high">
                    <div id="playerCoverPlaceholder" class="player-cover__placeholder" aria-hidden="true">üéµ</div>
                </div>
                <div class="audio-player">
                    <audio id="audioPlayer" controls>
                        <source id="audioSource" src="" type="audio/mpeg">
                        <span data-fi="Selaimesi ei tue audio-elementti√§." data-en="Your browser does not support the audio element." data-es="Tu navegador no soporta el elemento de audio." data-fr="Votre navigateur ne supporte pas l'√©l√©ment audio." data-ar="ŸÖÿ™ÿµŸÅÿ≠ŸÉ ŸÑÿß ŸäÿØÿπŸÖ ÿπŸÜÿµÿ± ÿßŸÑÿµŸàÿ™." data-nl="Je browser ondersteunt het audio-element niet.">Selaimesi ei tue audio-elementti√§.</span>
                    </audio>
                </div>

                <div class="player-info">
                    <div class="player-info__row">
                        <p class="level-badge" id="levelBadge"></p>
                        <button id="dailyQuizJumpBtn" class="toggle-btn daily-quiz-jump" type="button" style="display:none;">
                            <span data-fi="Siirry kysymyksiin" data-en="Go to questions" data-es="Ir a las preguntas" data-fr="Aller aux questions" data-ar="ÿßÿ∞Ÿáÿ® ÿ•ŸÑŸâ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ©" data-nl="Ga naar vragen">Siirry kysymyksiin</span>
                        </button>
                    </div>
                </div>
            </section>

            <section class="lyrics-section">
                <h2 data-fi="Sanat" data-en="Lyrics" data-es="Letras" data-fr="Paroles" data-ar="ŸÉŸÑŸÖÿßÿ™ ÿßŸÑÿ£ÿ∫ŸÜŸäÿ©" data-nl="Teksten">Sanat</h2>
                <div class="lyrics-toggle">
                    <button id="translationToggle" class="toggle-btn">
                        <span data-fi="N√§yt√§ k√§√§nn√∂s" data-en="Show translation" data-es="Mostrar traducci√≥n" data-fr="Afficher traduction" data-ar="ÿπÿ±ÿ∂ ÿßŸÑÿ™ÿ±ÿ¨ŸÖÿ©" data-nl="Toon vertaling">N√§yt√§ k√§√§nn√∂s</span>
                    </button>
                </div>
                <div id="lyricsContainer" class="lyrics-container">
                    <!-- Lyrics will be dynamically loaded here -->
                </div>
            </section>

            <section class="instructions">
                <h3 data-fi="Miten k√§ytt√§√§" data-en="How to use" data-es="C√≥mo usar" data-fr="Comment utiliser" data-ar="ŸÉŸäŸÅŸäÿ© ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ" data-nl="Hoe te gebruiken">Miten k√§ytt√§√§</h3>
                <ul>
                    <li data-fi="Paina play aloittaaksesi musiikin" data-en="Press play to start the music" data-es="Presiona play para comenzar la m√∫sica" data-fr="Appuyez sur play pour d√©marrer la musique" data-ar="ÿßÿ∂ÿ∫ÿ∑ ÿ™ÿ¥ÿ∫ŸäŸÑ ŸÑÿ®ÿØÿ° ÿßŸÑŸÖŸàÿ≥ŸäŸÇŸâ" data-nl="Druk op play om de muziek te starten">Paina play aloittaaksesi musiikin</li>
                    <li data-fi="Seuraa sanoja samalla kun kuuntelet" data-en="Follow the lyrics while listening" data-es="Sigue las letras mientras escuchas" data-fr="Suivez les paroles en √©coutant" data-ar="ÿ™ÿßÿ®ÿπ ŸÉŸÑŸÖÿßÿ™ ÿßŸÑÿ£ÿ∫ŸÜŸäÿ© ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿßÿ≥ÿ™ŸÖÿßÿπ" data-nl="Volg de teksten tijdens het luisteren">Seuraa sanoja samalla kun kuuntelet</li>
                    <li data-fi="Laula mukana karaoken tapaan!" data-en="Sing along karaoke-style!" data-es="¬°Canta al estilo karaoke!" data-fr="Chantez en mode karaok√© !" data-ar="ÿ∫ŸÜŸê ÿ®ÿ£ÿ≥ŸÑŸàÿ® ÿßŸÑŸÉÿßÿ±ŸäŸàŸÉŸä!" data-nl="Zing mee in karaoke-stijl!">Laula mukana karaoken tapaan!</li>
                    <li data-fi="K√§yt√§ k√§√§nn√∂st√§ apuna tarvittaessa" data-en="Use translations for help when needed" data-es="Usa las traducciones cuando lo necesites" data-fr="Utilisez les traductions si n√©cessaire" data-ar="ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ™ÿ±ÿ¨ŸÖÿ© ÿπŸÜÿØ ÿßŸÑÿ≠ÿßÿ¨ÿ©" data-nl="Gebruik vertalingen als hulp indien nodig">K√§yt√§ k√§√§nn√∂st√§ apuna tarvittaessa</li>
                </ul>
            </section>
        </main>
    </div>

    <!-- Daily Challenge quiz modal (shown when a Daily Challenge song ends) -->
    <div id="dailyQuizModal" class="daily-quiz" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Daily Challenge quiz">
        <div class="daily-quiz__backdrop" data-close="1"></div>
        <div class="daily-quiz__panel" role="document">
            <div class="daily-quiz__header">
                <h2 class="daily-quiz__title" data-fi="P√§iv√§n haaste: Pikavisa" data-en="Daily Challenge: Quick quiz" data-es="Desaf√≠o diario: Quiz r√°pido" data-fr="D√©fi du jour : Quiz rapide" data-ar="ÿ™ÿ≠ÿØŸä ÿßŸÑŸäŸàŸÖ: ÿßÿÆÿ™ÿ®ÿßÿ± ÿ≥ÿ±Ÿäÿπ" data-nl="Dagelijkse uitdaging: Snelle quiz">P√§iv√§n haaste: Pikavisa</h2>
                <button id="dailyQuizClose" class="daily-quiz__close" type="button" aria-label="Close" data-close="1">√ó</button>
            </div>
            <p class="daily-quiz__subtitle" data-fi="Valitse oikea k√§√§nn√∂s (3 kysymyst√§)" data-en="Pick the correct translation (3 questions)" data-es="Elige la traducci√≥n correcta (3 preguntas)" data-fr="Choisissez la bonne traduction (3 questions)" data-ar="ÿßÿÆÿ™ÿ± ÿßŸÑÿ™ÿ±ÿ¨ŸÖÿ© ÿßŸÑÿµÿ≠Ÿäÿ≠ÿ© (3 ÿ£ÿ≥ÿ¶ŸÑÿ©)" data-nl="Kies de juiste vertaling (3 vragen)">Valitse oikea k√§√§nn√∂s (3 kysymyst√§)</p>

            <form id="dailyQuizForm" class="daily-quiz__form"></form>

            <div class="daily-quiz__footer">
                <div id="dailyQuizResult" class="daily-quiz__result" aria-live="polite"></div>
                <button id="dailyQuizSubmit" class="toggle-btn" type="button">
                    <span data-fi="Valmis" data-en="Submit" data-es="Enviar" data-fr="Valider" data-ar="ÿ•ÿ±ÿ≥ÿßŸÑ" data-nl="Inleveren">Valmis</span>
                </button>
            </div>
        </div>
    </div>

    <script defer src="js/translations.js"></script>
    <script defer src="js/lang-toggle.js"></script>
    <script defer src="js/songs-index.js"></script>
    <script defer src="js/song-loader.js"></script>
    <script defer src="js/player.js"></script>
</body>
</html>
