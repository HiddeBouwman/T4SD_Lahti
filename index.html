<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SingFin - Opi suomea musiikin kautta / Learn Finnish through Music</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="language-toggle">
        <div class="lang-selector">
            <!-- Visible icon button -->
            <button id="langSelectorBtn" class="lang-icon-btn" aria-haspopup="listbox" aria-expanded="false" title="Change language">
                <!-- language translate icon (stroke uses currentColor) -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M2,16c0.1,0,8-5,9-7c0.6-1.3,1-5,1-5h3H1h7V1"/>
                    <line x1="4" y1="8" x2="12" y2="16"/>
                    <polygon points="15,19 21,19 23,23 18,11 13,23 "/>
                </svg>
            </button>

            <!-- Native select kept for compatibility with existing scripts (hidden) -->
            <select id="langSelector" class="native-select">
                <option value="fi">Suomi (FI)</option>
                <option value="en">English (EN)</option>
                <option value="es">Español (ES)</option>
                <option value="fr">Français (FR)</option>
                <option value="ar">العربية (AR)</option>
                <option value="nl">Nederlands (NL)</option>
            </select>

            <!-- Custom dropdown (populated/synced by JS) -->
            <ul id="langDropdown" class="lang-dropdown" role="listbox" aria-label="Language selector"></ul>
        </div>
    </div>

    <!-- Decorative moving waves (layered SVG) -->
    <div class="waves" aria-hidden="true">
        <svg class="waves-svg" viewBox="0 0 1440 800" preserveAspectRatio="none" aria-hidden="true">
            <!-- deep back layer (extended left/right to avoid edge gaps during motion) -->
            <path class="wave wave--1" d="M-200,760 C160,700 280,580 520,540 C760,500 980,480 1200,520 C1310,540 1380,580 1640,600 L1640,800 L-200,800 Z"/>
            <!-- mid-indigo layer (moved up more) -->
            <path class="wave wave--2" d="M-200,650 C180,590 360,455 600,395 C840,335 1040,315 1260,355 C1360,377 1400,415 1640,435 L1640,800 L-200,800 Z"/>
            <!-- mid layer (moved up a lot) -->
            <path class="wave wave--3" d="M-200,565 C120,485 260,305 520,265 C780,225 980,225 1200,265 C1320,285 1380,315 1640,335 L1640,800 L-200,800 Z"/>
            <!-- front slate layer (moved up the most) -->
            <path class="wave wave--4" d="M-200,470 C200,430 380,315 600,280 C820,240 1060,220 1280,250 C1360,266 1400,290 1640,300 L1640,800 L-200,800 Z"/>
        </svg>
    </div>

    <div class="container">
        <header>
            <h1 class="main-title">
                <img
                    class="site-logo"
                    src="assets/artwork/Karaoke_logo_white.svg"
                    alt="SingFin"
                    loading="eager"
                    decoding="async"
                />
            </h1>
            <p style="color: #a1e8af; font-size: x-large; font-weight: 800;" class="subtitle" data-fi="Opi suomea musiikin kautta" data-en="Learn Finnish through Music" data-es="Aprende finés a través de la música" data-fr="Apprenez le finnois par la musique" data-ar="تعلم الفنلندية من خلال الموسيقى" data-nl="Leer Fins door muziek">Opi suomea musiikin kautta</p>
        </header>
        <div class="home-tabs" role="tablist" aria-label="Main sections">
            <button id="tabSearch" class="home-tab" type="button" role="tab" aria-selected="false" aria-controls="searchSection" data-target="searchSection">
                <span data-fi="Etsi kappaleita" data-en="Search songs" data-es="Buscar canciones" data-fr="Rechercher des chansons" data-ar="البحث عن الأغاني" data-nl="Zoek liedjes">Etsi kappaleita</span>
            </button>
            <button id="tabDaily" class="home-tab is-active" type="button" role="tab" aria-selected="true" aria-controls="dailyChallenge" data-target="dailyChallenge">
                <span data-fi="Päivän haaste" data-en="Daily Challenge" data-es="Desafío diario" data-fr="Défi du jour" data-ar="تحدي اليوم" data-nl="Dagelijkse uitdaging">Päivän haaste</span>
            </button>
        </div>
        <main>

            <section class="daily-challenge" id="dailyChallenge">
                <h2 data-fi="Päivän haaste" data-en="Daily Challenge" data-es="Desafío diario" data-fr="Défi du jour" data-ar="تحدي اليوم" data-nl="Dagelijkse uitdaging">Päivän haaste</h2>
                <div class="daily-card" role="region" aria-label="Daily Challenge">
                    <div class="daily-card__meta">
                        <p class="daily-card__title" id="dailyChallengeTitle">–</p>
                        <p class="daily-card__subtitle" id="dailyChallengeArtist">–</p>
                        <p class="daily-card__level" id="dailyChallengeLevel">–</p>
                        <p class="daily-card__status" id="dailyChallengeStatus"> </p>
                    </div>
                    <div class="daily-card__actions">
                        <button id="dailyChallengeBtn" class="random-btn" type="button">
                            <span data-fi="Aloita haaste" data-en="Start challenge" data-es="Iniciar desafío" data-fr="Démarrer le défi" data-ar="ابدأ التحدي" data-nl="Start uitdaging">Aloita haaste</span>
                        </button>
                        <button id="dailyChallengeReviewBtn" class="random-btn daily-review-btn" type="button" style="display:none;">
                            <span data-fi="Katso vastaukset" data-en="Review answers" data-es="Revisar respuestas" data-fr="Revoir les réponses" data-ar="راجع الإجابات" data-nl="Bekijk antwoorden">Katso vastaukset</span>
                        </button>
                    </div>
                </div>
            </section>

            <section class="search-section" id="searchSection" hidden>
                <h2 data-fi="Etsi kappaleita" data-en="Search songs" data-es="Buscar canciones" data-fr="Rechercher des chansons" data-ar="البحث عن الأغاني" data-nl="Zoek liedjes">Etsi kappaleita</h2>
                <div class="search-row">
                    <div class="search-field">
                        <!-- magnifying icon inside the field -->
                        <svg class="search-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                            <circle cx="11" cy="11" r="6"></circle>
                            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                        <input type="search" id="searchInput" class="search-input" placeholder="Hae kappaletta tai artistia..." data-fi="Hae kappaleen nimellä, artistilla..." data-en="Search by song name, artist..." data-es="Buscar por nombre de canción, artista..." data-fr="Rechercher par nom de chanson, artiste..." data-ar="البحث باسم الأغنية أو الفنان..." data-nl="Zoek op nummer, artiest...">
                    </div>
                    <button id="randomBtn" class="random-btn">
                        <span
                            data-fi="Satunnainen kappale"
                            data-en="Random Song"
                            data-es="Canción aleatoria"
                            data-fr="Chanson aléatoire"
                            data-ar="أغنية عشوائية"
                            data-nl="Willekeurig nummer"
                        >Satunnainen kappale</span>
                    </button>
                </div>
            </section>
            <section class="level-selection" id="levelSection" hidden>
                <h2 data-fi="Valitse tasosi" data-en="Choose your level" data-es="Elige tu nivel" data-fr="Choisissez votre niveau" data-ar="اختر مستواك" data-nl="Kies je niveau">Valitse tasosi</h2>
                <div class="level-buttons">
                    <button class="level-btn" data-level="beginner">
                        <span data-fi="Aloittelija" data-en="Beginner" data-es="Principiante" data-fr="Débutant" data-ar="مبتدئ" data-nl="Beginner">Aloittelija</span>
                    </button>
                    <button class="level-btn" data-level="intermediate">
                        <span data-fi="Keskitaso" data-en="Intermediate" data-es="Intermedio" data-fr="Intermédiaire" data-ar="متوسط" data-nl="Gemiddeld">Keskitaso</span>
                    </button>
                    <button class="level-btn" data-level="advanced">
                        <span data-fi="Edistynyt" data-en="Advanced" data-es="Avanzado" data-fr="Avancé" data-ar="متقدم" data-nl="Gevorderd">Edistynyt</span>
                    </button>
                </div>
            </section>

            <!-- random button now lives next to the search input -->


            <section class="song-list" id="songList" style="display: none;" hidden>
                <h2 data-fi="Valitse kappale" data-en="Choose a song" data-es="Elige una canción" data-fr="Choisissez une chanson" data-ar="اختر أغنية" data-nl="Kies een nummer">Valitse kappale</h2>
                <div id="songsContainer"></div>
            </section>
        </main>
    </div>

    <script defer src="js/translations.js"></script>
    <script defer src="js/lang-toggle.js"></script>
    <script defer src="js/songs.js"></script>
    <script defer src="js/daily-challenge.js"></script>
    <script defer src="js/app.js"></script>
</body>
</html>
